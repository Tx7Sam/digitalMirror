# Digital Mirror - デジタルミラーアプリケーション

カメラとマイクの映像・音声を遅延再生するWebアプリケーションです。

## 機能

- **遅延再生**: 0〜30秒の範囲で遅延時間を設定可能
- **リアルタイムモード**: 0秒設定時は遅延なしで表示
- **音声制御**: 音声のON/OFF切り替え
- **ミラー効果**: 映像を左右反転して表示
- **自動調整**: 設定した遅延時間を自動的に維持

## 必要な環境

- モダンなWebブラウザ（Chrome、Edge、Firefox、Safari等）
- カメラとマイクへのアクセス許可
- ローカルサーバー（開発時）

## 使い方

### 1. ファイルの配置

以下の3つのファイルを同じフォルダに配置してください：

```
digital-mirror/
├── index.html
├── style.css
└── main.js
```

### 2. ローカルサーバーの起動

#### Pythonを使用する場合

```bash
# Python 3.x
python -m http.server 8000

# Python 2.x
python -m SimpleHTTPServer 8000
```

#### Node.jsを使用する場合

```bash
npx http-server
```

#### Visual Studio Codeを使用する場合

「Live Server」拡張機能をインストールして使用できます。

### 3. ブラウザでアクセス

ブラウザで以下のURLを開きます：

```
http://localhost:8000
```

### 4. 操作方法

1. **開始ボタン**をクリック
2. カメラとマイクへのアクセスを許可
3. **遅延時間スライダー**で遅延時間を調整（0〜30秒）
4. **音声ボタン**で音声のON/OFFを切り替え

## 技術仕様

- **MediaRecorder API**: 映像・音声の録画
- **MediaSource API**: 遅延再生の実装
- **getUserMedia API**: カメラ・マイクへのアクセス

## 注意事項

- HTTPSまたはlocalhostでのみ動作します（セキュリティ上の制約）
- ブラウザによってサポートされるコーデックが異なる場合があります
- カメラとマイクへのアクセス許可が必要です

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## トラブルシューティング

### カメラにアクセスできない

- ブラウザの設定でカメラとマイクへのアクセスを許可してください
- HTTPSまたはlocalhostで実行していることを確認してください

### 映像が表示されない

- ブラウザのコンソールでエラーメッセージを確認してください
- ページをリロードしてみてください

### 音声が聞こえない

- 音声ボタンがONになっているか確認してください
- ビデオ要素のミュートが解除されているか確認してください

## 開発者向け情報

### コードの構造

- `index.html`: UIの構造
- `style.css`: スタイリング（ダークテーマ、グラスモーフィズム）
- `main.js`: メインロジック（録画、バッファ管理、再生制御）

### カスタマイズ

- `CHUNK_INTERVAL`: データチャンクの間隔（デフォルト: 100ms）
- スライダーの範囲: `index.html`の`min`と`max`属性で変更可能
- デザイン: `style.css`でカスタマイズ可能

## 更新履歴

### v1.0.0 (2025-11-27)
- 初回リリース
- 0〜30秒の遅延再生機能
- リアルタイムモード（0秒設定時）
- 音声制御機能
- 自動遅延時間維持機能
